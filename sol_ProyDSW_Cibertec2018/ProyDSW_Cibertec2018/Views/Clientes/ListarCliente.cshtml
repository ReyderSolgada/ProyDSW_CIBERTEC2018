@model IEnumerable<Dominio.Core.Entidades.Clientes>

@{
    ViewBag.Title = "ListarCliente";
}

<h2>ListarCliente</h2>

<p>
    @Html.ActionLink("Nuevo Cliente", "CreateCliente")
</p>
<table class="table table-bordered table-hover table-striped">
    <tr>
        <th scope="row">Código</th>
        <th scope="row">Nombre</th>
        <th scope="row">Distrito</th>
        <th scope="row">Dirección </th>
        <th scope="row">DNI</th>
        <th scope="row">Correo</th>
        <th scope="row" >Celular</th>
        <th style="text-align:center" colspan="3">Acciones</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.codcli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.nomcli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.coddis)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.direccioncli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.dnicli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.emailcli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.celcli)
            </td>
            <td>@Html.ActionLink("Editar", "EditarCliente", new { xcod = item.codcli },new{@class="btn btn-primary" })
            @*<a class="btn btn-primary" data-toggle="modal" data-target="#frm-editar-cliente">Editar</a>*@</td>
               <td> @Html.ActionLink("Detalle", "DetalleCliente", new { xcod = item.codcli }, new { @class = "btn btn-success" })</td>
               <td> @Html.ActionLink("Eliminar", "DeleteCliente", new { xcod = item.codcli }, new { @class = "btn btn-danger" })</td>
        </tr>
    }

</table>

<div class="modal fade" id="frm-editar-cliente" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">

    <div class="modal-dialog" role="document">

        <form id="editCliente" action="ServletCliente?tipo=actualizar" method="post">
            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title" id="exampleModalLabel">Datos del Cliente</h5>

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">

                        <span aria-hidden="true">&times;</span>

                    </button>

                </div>

                <div class="modal-body">

                    <input name="txtCodigo" id="txtCodigo" class="form-control" type="hidden" form="editCliente">

                    <label>Nombres</label>

                    <input name="txtNombre" id="txtNombre" class="form-control" type="text"
                           placeholder="Nombres" form="editCliente">

                    <label>Primer Apellido</label>

                    <input name="txtApePaterno" id="txtApePaterno" class="form-control" type="text"
                           placeholder="Ape. Paterno">

                    <label>Segundo Apellido</label>

                    <input name="txtApeMater" id="txtApeMater" class="form-control" type="text"
                           placeholder="Ape. Materno">

                    <label>DNI</label>

                    <input name="txtDNI" id="txtDNI" class="form-control" type="text"
                           placeholder="N° DNI">

                    <label>Fecha de Registro</label>

                    <input name="txtFecRegistro" id="txtFecRegistro" class="dp-fecha form-control" type="text"
                           placeholder="Fecha">

                    <label>Sexo</label>

                    <input name="txtSexo" id="txtSexo" class="form-control" type="text"
                           placeholder="sexo">

                </div>

                <div class="modal-footer">

                    <button id="btn-actualizar" type="submit" class="btn btn-primary" form="editCliente">Modificar</button>

                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>

                </div>

            </div>

        </form>

    </div>

</div>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script>
    if ('@ViewBag.MENSAJE' != "")
        alert(@ViewBag.MENSAJE);
</script>
